<!DOCTYPE html>
<html>
<head>
  <title>Firebase Live Dashboard</title>
  <style>
    body { font-family: Arial; background: #f4f4f4; padding: 20px; }
    .card { background: white; border-radius: 10px; padding: 15px; margin: 10px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .card h3 { margin: 0; color: #007bff; }
    .value { color: #333; margin-top: 5px; }
  </style>
</head>
<body>
  <h1>ðŸ”Œ Firebase Live Data Viewer</h1>
  <div id="data-container"></div>

  <script type="module">
    // Firebase SDK import
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "dq08PQL2JHCpD13e9295WjatZXFnQOZLCH7Ez4aO",
      authDomain: "esp-983b0.firebaseapp.com",
      databaseURL: "https://esp-983b0-default-rtdb.firebaseio.com",
      projectId: "esp-983b0",
      storageBucket: "esp-983b0.appspot.com",
      messagingSenderId: "430727503576",
      appId: "1:430727503576:web:8be72dd53cbf99d41f1b14"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const paths = [
      "3PhaseData", "3PhaseData1", "3PhaseData5", "Home1", "Home2", "Home3", "Home4", "Home5",
      "Home6", "Home7", "Home8", "Home9", "Home10", "Home33", "ModbusData", "adnan",
      "compressor", "energy_data", "energyLogs", "productivityLogs", "smart_home",
      "smart_home1", "smart_home2", "smart_home3", "testData"
    ];

    const container = document.getElementById("data-container");

    paths.forEach(path => {
      const div = document.createElement("div");
      div.className = "card";
      div.id = path;
      div.innerHTML = `<h3>${path}</h3><div class="value">Loading...</div>`;
      container.appendChild(div);

      const dataRef = ref(db, path);
      onValue(dataRef, snapshot => {
        const val = snapshot.val();
        const formatted = JSON.stringify(val, null, 2);
        div.querySelector('.value').textContent = formatted;
      }, {
        onlyOnce: false
      });
    });
  </script>
</body>
</html>
